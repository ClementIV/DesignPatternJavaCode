## 简单工厂模式
---

### 定义
简单工厂模式(Simple Factory Pattern):定义一个工厂类，它可以根据参数的不同返回不同类的实例，被创建的实例通常都具有相同的父类。因为在简单工厂模式中用于创建实例的方法是静态（static)方法，因此简单工厂模式又被称为静态工厂方法(Static Factory Method)模式。

### 为什么要用

* 与一个对象相关的职责通常有三类： **对象本身所具有的职责，创建对象的职责和使用的职责**
* 简单工厂模式提供了专门的工厂类用于创建对象，将对象的创建和对象的使用分离开。

* java 语言中通常使用以下几种创建对象
    * 使用new关键对象创建
    * 通过反射机制创建对象
    * 通过clone()方法创建对象
    * 通过工厂类创建对象
* new关键字简单但是灵活性较差，容易违反“开闭原则”
* 引入工厂后，实现“单一职责原则”，即一个类只会是创建A或者使用A的一种，而不是两者都有
* **防止用来实例化一个类的数据和代码在多个类中到处都是，可以将有关创建的知识搬移到一个工厂类中**
* “不是特别明显”的优点，可以实现多态

### 简单工厂模式结构图中的角色

* Factory(工厂角色)
    * 工厂角色即工厂类，它是简单工厂模式的核心，负责实现创建所有产品实例的内部逻辑
    * 工厂类可以被外界直接调用，创建所需的产品对象
    * 在工厂类中提供了静态的工厂方法 **factoryMethod()**，它的返回类型为抽象产品类型Product

* Product(抽象产品角色)
    * 它是工厂类所创建的所有对象的父类，封装了各种产品对象的公有方法，它的引入将提高系统的灵活性
* ConcreteProduct (具体产品角色)

    * 它是简单工厂模式的创建目标，所有被创建的对象都充当这个角色的某个具体类的实例
    * 使用前需要抽象成一些抽象方法。

### 主要优点
1. 工厂类包含必要的判断逻辑，可以决定在什么时候创建哪一个产品类的实例。
2. 客户端无须知道所创建的具体产品类的类名，只需要知道具体类所对应的参数即可，可以减少使用者的记忆量
3. 通过引入配置文件，可以在不修改任何客户端代码的情况下跟换和增加新的具体产品类，在一定程度上提高了系统的灵活性

###  主要缺点
1. 工厂类集中了所有的产品逻辑，职责过重，一旦不能正常工作，整个系统都会受到影响
2. 使用简单的工厂模式势必会增加系统中类的个数，增加系统的复杂度和理解难度
3. 系统扩展困难，一旦添加新产品就不得不修改工厂逻辑，在产品类型较多时，有可能造成工厂逻辑过于复杂，不利于系统的扩展和维护。
4. 简单工厂模式由于使用了静态工厂方法，造成工厂角色无法形成基于继承的等级结构

### 适用场景
1. 工厂类负责创建的对象较少，不会造成工厂方法中的业务逻辑太过复杂。
2. 客户端只知道传入工厂类的参数，对于如何创建对象并不关心。